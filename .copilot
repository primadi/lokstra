# Lokstra Framework - AI Assistant Context

## About This Framework

Lokstra is a modern Go web framework that works in two modes:
- **Router Mode**: Simple HTTP routing (like Echo, Gin, Chi)
- **Framework Mode**: Full dependency injection framework (like NestJS, Spring Boot)

## Essential Reading for AI Assistants

1. **AI Agent Guide**: `docs/AI-AGENT-GUIDE.md` - Comprehensive guide for AI agents
2. **Quick Reference**: `docs/QUICK-REFERENCE.md` - Fast lookup cheatsheet
3. **Copilot Instructions**: `.github/copilot-instructions.md` - GitHub Copilot specific

## Key Concepts

- **Type-safe DI** with Go generics
- **Lazy loading** by default
- **29+ handler signatures** supported
- **Auto-generated REST routers** from services
- **Configuration-driven** deployment (YAML)
- **Multi-deployment** support (monolith â†’ microservices)

## Quick Examples

### Router Mode (Simple)
```go
r := lokstra.NewRouter("api")
r.GET("/users", func() []User { return users })
app := lokstra.NewApp("myapp", ":8080", r)
app.Run(30 * time.Second)
```

### Framework Mode (DI + Config)
```yaml
# config.yaml
service-definitions:
  user-service:
    type: user-service-factory
deployments:
  development:
    servers:
      api:
        addr: ":8080"
        published-services: [user-service]
```

```go
// Service with DI
type UserService struct {
    UserRepo *service.Cached[UserRepository]
}

func UserServiceFactory(deps map[string]any, config map[string]any) any {
    return &UserService{
        UserRepo: service.Cast[UserRepository](deps["user-repository"]),
    }
}
```

## When Helping Users

1. Check project scale to suggest appropriate mode
2. Provide complete, runnable code
3. Include validation tags and error handling
4. Follow domain-driven design patterns
5. Suggest appropriate template from `project_templates/`

## Resources

- Documentation: https://primadi.github.io/lokstra/
- GitHub: https://github.com/primadi/lokstra
- Templates: See `project_templates/` directory
