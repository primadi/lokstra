# yaml-language-server: $schema=https://primadi.github.io/lokstra/schema/lokstra.schema.json

configs:
  dbpool-manager:
    use_sync: true
    # dbpool_name: db_main
    # heartbeat_interval: ${DBPOOL_MANAGER_HEARTBEAT_INTERVAL:5} # in minutes
    # reconnect_interval: ${DBPOOL_MANAGER_RECONNECT_INTERVAL:5} # in seconds
    
dbpool-definitions:
  db_main:
    dsn: ${GLOBAL_DB_DSN:postgres://postgres:adm1n@localhost:5432/lokstra_db}
    schema: ${GLOBAL_DB_SCHEMA:lokstra_auth}
  
deployments:
  monolith:
    servers:
      api-server:
        base-url: "http://localhost"
        addr: ":3000"
        routers: [main-router]
