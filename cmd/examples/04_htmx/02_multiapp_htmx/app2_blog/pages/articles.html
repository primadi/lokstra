<!-- layout: blog.html -->

<div class="articles-page">
    <!-- Page Header -->
    <div class="page-header">
        <h1>üìù All Articles</h1>
        <p>Discover insights, tutorials, and thoughts from our tech community</p>
    </div>

    <!-- Filters and Search -->
    <div class="articles-filters">
        <div class="filter-group">
            <label>Category:</label>
            <select hx-get="/app2/api/articles/filter" hx-target="#articles-list" name="category">
                <option value="">All Categories</option>
                <option value="web-development">Web Development</option>
                <option value="mobile">Mobile Development</option>
                <option value="devops">DevOps</option>
                <option value="ai-ml">AI & Machine Learning</option>
                <option value="career">Career</option>
            </select>
        </div>
        
        <div class="filter-group">
            <label>Sort by:</label>
            <select hx-get="/app2/api/articles/sort" hx-target="#articles-list" name="sort">
                <option value="newest">Newest First</option>
                <option value="oldest">Oldest First</option>
                <option value="popular">Most Popular</option>
                <option value="most-viewed">Most Viewed</option>
            </select>
        </div>

        <div class="filter-group">
            <input type="text" 
                   placeholder="Search articles..." 
                   hx-get="/app2/api/articles/search" 
                   hx-target="#articles-list"
                   hx-trigger="keyup changed delay:300ms"
                   name="q"
                   class="search-input">
        </div>
    </div>

    <!-- Articles List -->
    <div id="articles-list" class="articles-list">
        {{range .articles}}
        <article class="article-item">
            <div class="article-thumbnail">
                <img src="{{.thumbnail}}" alt="{{.title}}" loading="lazy">
                <div class="article-category">{{.category}}</div>
            </div>
            
            <div class="article-details">
                <h2>
                    <a href="/app2/article/{{.slug}}" 
                       hx-get="/app2/article/{{.slug}}" 
                       hx-target="main" 
                       hx-push-url="true">
                        {{.title}}
                    </a>
                </h2>
                
                <p class="article-excerpt">{{.excerpt}}</p>
                
                <div class="article-meta">
                    <div class="author-info">
                        <div class="author-avatar">{{.author.avatar}}</div>
                        <div class="author-details">
                            <span class="author-name">{{.author.name}}</span>
                            <span class="author-title">{{.author.title}}</span>
                        </div>
                    </div>
                    
                    <div class="article-stats">
                        <span>üìÖ {{.published_date}}</span>
                        <span>‚è±Ô∏è {{.read_time}} min read</span>
                        <span>üëÅÔ∏è {{.views}} views</span>
                        <span>üí¨ {{.comments_count}} comments</span>
                    </div>
                </div>

                <div class="article-tags">
                    {{range .tags}}
                    <span class="tag" 
                          hx-get="/app2/tag/{{.}}" 
                          hx-target="main" 
                          hx-push-url="true">{{.}}</span>
                    {{end}}
                </div>

                <div class="article-actions">
                    <button class="action-btn like-btn" 
                            hx-post="/app2/api/articles/{{.id}}/like" 
                            hx-target="this">
                        ‚ù§Ô∏è {{.likes_count}}
                    </button>
                    <button class="action-btn bookmark-btn" 
                            hx-post="/app2/api/articles/{{.id}}/bookmark" 
                            hx-target="this">
                        üîñ Bookmark
                    </button>
                    <button class="action-btn share-btn" onclick="shareArticle('{{.title}}', '{{.url}}')">
                        üì§ Share
                    </button>
                </div>
            </div>
        </article>
        {{end}}
    </div>

    <!-- Load More -->
    <div class="load-more-section">
        <button class="load-more-btn" 
                hx-get="/app2/api/articles/more" 
                hx-target="#articles-list" 
                hx-swap="beforeend">
            Load More Articles
        </button>
    </div>
</div>