# Lokstra Router Integration Test Requests
# Use VS Code REST Client extension to execute these requests

### Variables for different deployments
@monolith_single = http://localhost:8081
@monolith_multi_product = http://localhost:8082
@monolith_multi_order = http://localhost:8083
@microservice_product = http://localhost:8084
@microservice_order = http://localhost:8085

###
# Health Checks - Works for all deployments
###


### Requests for Monolith Single Port ({{monolith_single}})

#### Health
GET {{monolith_single}}/health
Accept: application/json

#### Get all products
GET {{monolith_single}}/products
Accept: application/json

#### Get specific product
GET {{monolith_single}}/products/1
Accept: application/json

#### Get non-existent product
GET {{monolith_single}}/products/999
Accept: application/json

#### Get all orders
GET {{monolith_single}}/orders
Accept: application/json

#### Create order
POST {{monolith_single}}/orders
Content-Type: application/json

{
  "user_id": "user123",
  "product_ids": ["1", "2"]
}

#### Create order with invalid product
POST {{monolith_single}}/orders
Content-Type: application/json

{
  "user_id": "user123",
  "product_ids": ["999"]
}


### Requests for Monolith Multi Port Product ({{monolith_multi_product}})

#### Health
GET {{monolith_multi_product}}/health
Accept: application/json

#### Get all products
GET {{monolith_multi_product}}/products
Accept: application/json

#### Get specific product
GET {{monolith_multi_product}}/products/1
Accept: application/json

### Requests for Monolith Multi Port Order ({{monolith_multi_order}})

#### Health
GET {{monolith_multi_order}}/health
Accept: application/json

#### Get all orders
GET {{monolith_multi_order}}/orders
Accept: application/json

#### Create order
POST {{monolith_multi_order}}/orders
Content-Type: application/json

{
  "user_id": "user456",
  "product_ids": ["1", "3"]
}

### Requests for Microservice Product ({{microservice_product}})

#### Health
GET {{microservice_product}}/health
Accept: application/json

#### Get all products
GET {{microservice_product}}/products
Accept: application/json

#### Get specific product
GET {{microservice_product}}/products/1
Accept: application/json

### Requests for Microservice Order ({{microservice_order}})

#### Health
GET {{microservice_order}}/health
Accept: application/json

#### Get all orders
GET {{microservice_order}}/orders
Accept: application/json

#### Create order
POST {{microservice_order}}/orders
Content-Type: application/json

{
  "user_id": "user789",
  "product_ids": ["2", "3"]
}