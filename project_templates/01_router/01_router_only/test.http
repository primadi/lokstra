### Lokstra Router Demo - API Tests
### Use this file with REST Client extension in VS Code
### or any HTTP client that supports .http files

@baseUrl = http://localhost:3000

#########################################
# User Endpoints
#########################################

### Get all users
GET {{baseUrl}}/users

### Get a specific user by ID
GET {{baseUrl}}/users/123

### Create a new user
POST {{baseUrl}}/users
Content-Type: application/json

{
  "name": "Alice Johnson",
  "email": "alice@example.com"
}

### Update a user (full update)
PUT {{baseUrl}}/users/123
Content-Type: application/json

{
  "name": "Alice Johnson",
  "email": "alice.johnson@example.com"
}

### Partially update a user
PATCH {{baseUrl}}/users/123
Content-Type: application/json

{
  "email": "newemail@example.com",
  "name": "Updated Name"
}

### Delete a user
DELETE {{baseUrl}}/users/123

#########################################
# Role Endpoints
#########################################

### Get all roles
GET {{baseUrl}}/roles

### Get a specific role by ID
GET {{baseUrl}}/roles/1

### Create a new role
POST {{baseUrl}}/roles
Content-Type: application/json

{
  "name": "Moderator",
  "description": "Can moderate content",
  "permissions": ["read", "write", "moderate"]
}

### Update a role (full update)
PUT {{baseUrl}}/roles/1
Content-Type: application/json

{
  "name": "Admin",
  "description": "Full system access",
  "permissions": ["read", "write", "delete", "admin"]
}

### Partially update a role
PATCH {{baseUrl}}/roles/1
Content-Type: application/json

{
  "description": "Updated administrator role",
  "permissions": ["read", "write", "delete"]
}

### Delete a role
DELETE {{baseUrl}}/roles/1

### Assign role to user (nested resource)
POST {{baseUrl}}/roles/1/users/123

#########################################
# Test Cases - Validation Errors
#########################################

### Create user without required fields (should fail)
POST {{baseUrl}}/users
Content-Type: application/json

{
  "name": "Test User"
}

### Create user with invalid email (should fail)
POST {{baseUrl}}/users
Content-Type: application/json

{
  "name": "Test User",
  "email": "invalid-email"
}

### Create role without required fields (should fail)
POST {{baseUrl}}/roles
Content-Type: application/json

{
  "name": "Test Role"
}

#########################################
# Test Cases - Different IDs
#########################################

### Get user with different IDs
GET {{baseUrl}}/users/1

###
GET {{baseUrl}}/users/999

###
GET {{baseUrl}}/users/abc-def-123

### Get role with different IDs
GET {{baseUrl}}/roles/2

###
GET {{baseUrl}}/roles/admin

###
GET {{baseUrl}}/roles/abc-xyz-789
